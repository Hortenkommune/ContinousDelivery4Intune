{"Function":"\r\n    function Resolve-Service {\r\n        param (\r\n            $Name,\r\n            $DesiredState\r\n        )\r\n        $gSvc = Get-Service $Name\r\n        Write-Log -Value \"Checking if service $Name is set to $DesiredState\" -Severity 1 -Component \"Resolve-Service\"\r\n        if ($DesiredState -eq \"Run\") {\r\n            if ($gSvc.Status -ne \"Running\") {\r\n                Write-Log -Value \"Service $Name is not running; starting\" -Severity 2 -Component \"Resolve-Service\"\r\n                Start-Service $Name\r\n            }\r\n        }\r\n        else {\r\n            if ($gSvc.Status -eq \"Running\") {\r\n                Write-Log -Value \"Service $Name is running; stopping\" -Severity 2 -Component \"Resolve-Service\"\r\n                Stop-Service $Name\r\n            }\r\n        }\r\n    }\r\n","Execute":"\r\n    param(\r\n        $cfguri = $null\r\n    )\r\n    if ($cfguri -ne $null) {\r\n        $cfg = Invoke-RestMethod $cfguri -UseBasicParsing\r\n        foreach ($i in $cfg) {\r\n            Resolve-Service -Name $i.Name -DesiredState $i.DesiredState\r\n        }\r\n    }\r\n","Name":"Resolve-Service"}
